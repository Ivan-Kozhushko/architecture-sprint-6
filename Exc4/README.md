# Задание 4

[Схема С4](InsureTech_C4_сontainer-diagram-OSAGO.drawio)

## Требуется ли ему своё хранилище данных?

Да. Как и у остальных сервисов - osago-agregator-db PostgreSQL.
Хранилище так же нужно для масштабирования сервиса - что бы не выполнять одни и те же запросы разными экхемплярами сервисами.

## Какой API он предоставляет core-app?

Как и все микросервисы и RESTAPI, и AsyncApi.

## Определите средство интеграции между сервисами core-app и osago-aggregator

В качестве средства интеграции  между сервисами core-app и osago-aggregator(back-to-back взаимодействия) выбраны два подхода по взаимодействию:
    - "Точка-Точка" - синхронное взаимодействие
    RestAPI Запросы на запуск процесса опроса сторонних  страховых компаний.
    - "Точка-подписка" - ассинхронное взаимодействие через брокера сообщений

## Подумайте над API для веб-приложения в core-app

RestApi запрос:
    - "ПодобратьПредложениеПоCтраховке" - получает данные с веб формы и по эти данным посылает запрос в osage-ogregator. Отвечает ОК если агрегатор обработал запрос.

## Определите средство интеграции между веб-приложением и core-app. Если будете использовать средство, отличное от REST, отразите интеграцию новой стрелкой

REST.

## В зависимости от выбранных средств интеграции подумайте, требуется ли где-то применение паттернов отказоустойчивости

Rate Limiting обязательно нужен чтобы сдержать DDoS таки и не перегружать систему
Circuit Breaker паттерн применим в случае опроса внешних систем для получение предложений по завякам клиента.